import { ethers } from "ethers";
import {
  ARBITRUM,
  ARBITRUM_GOERLI,
  AVALANCHE,
  AVALANCHE_FUJI,
  BSС_MAINNET,
  BSС_TESTNET,
  NOVA_SEPOLIA,
  NOVA,
} from "./chains";

const { AddressZero } = ethers.constants;

export const XGMT_EXCLUDED_ACCOUNTS = [
  "0x330eef6b9b1ea6edd620c825c9919dc8b611d5d5",
  "0xd9b1c23411adbb984b1c4be515fafc47a12898b2",
  "0xa633158288520807f91ccc98aa58e0ea43acb400",
  "0xffd0a93b4362052a336a7b22494f1b77018dd34b",
];
export const NOVA_CONTRACT = {
  Vault: "0xc48F99afe872c2541f530C6c87E3A6427e0C40d5",
  Router: "0x0616B9e771863d5a288EC7b3cd53E48f217650e1",
  VaultReader: "0x71918Db16aB2E5018Cb7457cb418bF07A1E371e8",
  Reader: "0x7d9df010c7d34B55F17d6A5266F3b849bAd6b4a8",
  GlpManager: "0x35c0648E06bC5d0216f7D07f4e83C7Af91ff5A44",
  RewardRouter: "0x57357b4145Ccd92AA8B39EE8f791421dB7F5eF11",
  GlpRewardRouter: "0xB95DB5B167D75e6d04227CfFFA61069348d271F5",
  RewardReader: "0x8BFb8e82Ee4569aee78D03235ff465Bd436D40E0",
  NATIVE_TOKEN: "0x8280a4e7D5B3B658ec4580d3Bc30f5e50454F169",
  GLP: "0x663f9Bbd7c3E7e08bd24df2BF47577B2299EAE38",
  GMX: "0x1212Cc9e6837FF5E3A99d7262297C12E05946873",
  ES_GMX: "0xf42Ae1D54fd613C9bb14810b0588FaAa09a426cA",
  BN_GMX: "0x35247165119B69A40edD5304969560D0ef486921",
  USDG: "0xBDd6Be58Cb1cB5caf1E37926afb7c1395480A6C0",
  ES_GMX_IOU: "0x6260101218eC4cCfFF1b778936C6f2400f95A954",
  StakedGmxTracker: "0x908C4D94D34924765f1eDc22A1DD098397c59dD4",
  BonusGmxTracker: "0x4d268a7d4C16ceB5a606c173Bd974984343fea13",
  FeeGmxTracker: "0xd2D1162512F927a7e282Ef43a362659E4F2a728F",
  StakedGlpTracker: "0x1aDDD80E6039594eE970E5872D247bf0414C8903",
  FeeGlpTracker: "0x4e971a87900b931fF39d1Aad67697F49835400b6",

  StakedGmxDistributor: "0x23208B91A98c7C1CD9FE63085BFf68311494F193",
  StakedGlpDistributor: "0x60519b48ec4183a61ca2B8e37869E675FD203b34",

  GmxVester: "0x199070DDfd1CFb69173aa2F7e20906F26B363004",
  GlpVester: "0xA75287d2f8b217273E7FCD7E86eF07D33972042E",
  AffiliateVester: "0x7c100c0F55A15221A4c1C5a25Db8C98A81df49B2",

  OrderBook: "0x09f77E8A13De9a35a7231028187e9fD5DB8a2ACB",
  OrderExecutor: "0x7257ac5D0a0aaC04AA7bA2AC0A6Eb742E332c3fB",
  OrderBookReader: "0xa27C20A7CF0e1C68C0460706bB674f98F362Bc21",

  PositionRouter: "0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868",
  PositionManager: "0x75E42e6f01baf1D6022bEa862A28774a9f8a4A0C",

  UniswapGmxEthPool: "0x80A9ae39310abf666A87C743d6ebBD0E8C42158E",
  ReferralStorage: "0xe6fab3f0c7199b0d34d7fbe83394fc0e0d06e99d",
  ReferralReader: "0x8Aa382760BCdCe8644C33e6C2D52f6304A76F5c8",
  Timelock: "0xaa50bD556CE0Fe61D4A57718BA43177a3aB6A597",

  // Synthetics
  DataStore: "0xFD70de6b91282D8017aA4E741e9Ae325CAb992d8",
  EventEmitter: "0xC8ee91A54287DB53897056e12D9819156D3822Fb",
  SubaccountRouter: "0x78F414436148B8588BDEe4771EA5eB75148668aa",
  ExchangeRouter: "0x7C68C7866A64FA2160F78EEaE12217FFbf871fa8",
  DepositVault: "0xF89e77e8Dc11691C9e8757e84aaFbCD8A67d7A55",
  WithdrawalVault: "0x0628D46b5D145f183AdB6Ef1f2c97eD1C4701C55",
  OrderVault: "0x31eF83a530Fde1B38EE9A18093A333D8Bbbc40D5",
  SyntheticsReader: "0xdA5A70c885187DaA71E7553ca9F728464af8d2ad",
  SyntheticsRouter: "0x7452c558d45f8afC8c83dAe62C3f8A5BE19c71f6",
  VaultPriceFeed: "0x5C7a4E508f0a3E0a6408D25B3AbF628FE038A323",
  ALP: "0x663f9Bbd7c3E7e08bd24df2BF47577B2299EAE38",
  ShortsTracker: "0xa7FAE74283fB413277f42c7F6D6f6461C615639F",
  VaultErrorController: "0x6E9B95BC2CB748aA5986d6Ab7ffBd36D055f0e22",
  VaultUtils: "0x54952A2F7C3eF12Bc36dddA2417b1C924f000DaC",
  AGX: "0x1212Cc9e6837FF5E3A99d7262297C12E05946873",
  //YieldEmission
  YieldTracker: "0xf59AEaD1c5C4C166c0781fD2f79b8f48429c1F2a",
  TimeDistributor: "0x5ABb55813cf4EF88cCd0DD04e0036cD649C00949",

  Multicall: "0xcA11bde05977b3631167028862bE2a173976CA11",
  v3StakerAddress: "0xCa5A466202d96BD63D464138E22BD8d9FD3f2F2C",
  nonfungibleTokenPositionManagerAddress: "0x18bC9fcD4C14DDdd0086FF4b661D97CF42505075",
  dexreader: "0x8B230062cDDc0027768425112865b04Cd7935640",
  IncentiveKey: {
    rewardToken: "0x1212Cc9e6837FF5E3A99d7262297C12E05946873",
    pool: "0x517B8e965193E7CF7B8624545Ba70134F34214a8",
    startTime: 1716867062,
    endTime: 1732419062,
    refundee: "0xD0F32187eB0dB6B8dE6c001Ac1cF97d91194944e",
  },
  UniswapAGXEthPool: "0x8280a4e7D5B3B658ec4580d3Bc30f5e50454F169",
  v3Factory: "0xf8D35842f37800E349A993503372fb9E2CBb7E3d",
  WethSwap: "0x8280a4e7D5B3B658ec4580d3Bc30f5e50454F169",
  EmissionSchedule: "0x35fCA6f38f2b8EDa5202f8089e47010E4af0Fee5",
};
export const SEPOLOIA_CONTRACRT = {
  StakeAGX: "0x6B3F0D9f04d15fa9f7EF014F4A56E2D8727A89B6",
  Vault: "0xe538d084E176EdEd520C1468e98c34019eAebC18",
  Router: "0x77cd97f0A00AbAdA1E235Cc368531584092E6eFA",
  VaultReader: "0xfe0E24281b8583A98f07fd6a8C64CEfa3AeFEf43",
  Reader: "0x37BCD71835b36630B5D24B012DDa5FAEb83076DE",
  GlpManager: "0xE15A6c5317A54858D851271fD47494aaa8b6AF13",
  RewardRouter: "0x71708d0b6aa73CC67d57633881f1ba5927be73E7",
  GlpRewardRouter: "0x2b8E59A5F922c0cB89D448826b914A5F29a35fA1",
  RewardReader: "0x2b8E59A5F922c0cB89D448826b914A5F29a35fA1",
  NATIVE_TOKEN: "0x13208D4923b9358cF4ccC450bB79ad98bA108D63",
  GLP: "0x76997a0cA3c25b0cC6ef13555a8CE6F097ca661D",
  GMX: "0x5bd524B133a3C429c821E3f5e92eB2ed53Fe1286",
  ES_GMX: "0xf42Ae1D54fd613C9bb14810b0588FaAa09a426cA",
  BN_GMX: "0x35247165119B69A40edD5304969560D0ef486921",
  USDG: "0x6D020B7B1286fafa7369BFEF665b36b4BD711f21",
  ES_GMX_IOU: "0x6260101218eC4cCfFF1b778936C6f2400f95A954",
  StakedGmxTracker: "0x908C4D94D34924765f1eDc22A1DD098397c59dD4",
  BonusGmxTracker: "0x4d268a7d4C16ceB5a606c173Bd974984343fea13",
  FeeGmxTracker: "0xd2D1162512F927a7e282Ef43a362659E4F2a728F",
  StakedGlpTracker: "0x1aDDD80E6039594eE970E5872D247bf0414C8903",
  FeeGlpTracker: "0x4e971a87900b931fF39d1Aad67697F49835400b6",

  StakedGmxDistributor: "0x23208B91A98c7C1CD9FE63085BFf68311494F193",
  StakedGlpDistributor: "0x60519b48ec4183a61ca2B8e37869E675FD203b34",

  GmxVester: "0x199070DDfd1CFb69173aa2F7e20906F26B363004",
  GlpVester: "0xA75287d2f8b217273E7FCD7E86eF07D33972042E",
  AffiliateVester: "0x7c100c0F55A15221A4c1C5a25Db8C98A81df49B2",

  OrderBook: "0x09f77E8A13De9a35a7231028187e9fD5DB8a2ACB",
  OrderExecutor: "0x7257ac5D0a0aaC04AA7bA2AC0A6Eb742E332c3fB",
  OrderBookReader: "0xa27C20A7CF0e1C68C0460706bB674f98F362Bc21",

  PositionRouter: "0x0a5fBa5a30d62aC6283E9195E302C9772cf8b2b7",
  PositionManager: "0x75E42e6f01baf1D6022bEa862A28774a9f8a4A0C",

  UniswapGmxEthPool: "0x80A9ae39310abf666A87C743d6ebBD0E8C42158E",
  ReferralStorage: "0xe6fab3f0c7199b0d34d7fbe83394fc0e0d06e99d",
  ReferralReader: "0x8Aa382760BCdCe8644C33e6C2D52f6304A76F5c8",
  Timelock: "0xc995dCe2438faaa5d8Fbf7BCE0382034029aDe04",

  // Synthetics
  DataStore: "0xFD70de6b91282D8017aA4E741e9Ae325CAb992d8",
  EventEmitter: "0xC8ee91A54287DB53897056e12D9819156D3822Fb",
  SubaccountRouter: "0x78F414436148B8588BDEe4771EA5eB75148668aa",
  ExchangeRouter: "0x7C68C7866A64FA2160F78EEaE12217FFbf871fa8",
  DepositVault: "0xF89e77e8Dc11691C9e8757e84aaFbCD8A67d7A55",
  WithdrawalVault: "0x0628D46b5D145f183AdB6Ef1f2c97eD1C4701C55",
  OrderVault: "0x31eF83a530Fde1B38EE9A18093A333D8Bbbc40D5",
  SyntheticsReader: "0xdA5A70c885187DaA71E7553ca9F728464af8d2ad",
  SyntheticsRouter: "0x7452c558d45f8afC8c83dAe62C3f8A5BE19c71f6",
  VaultPriceFeed: "0x55eE3b2D4ef72876cc52feAE8309aa7AD7b17Fa3",
  ALP: "0x76997a0cA3c25b0cC6ef13555a8CE6F097ca661D",
  ShortsTracker: "0x6931F17664EED22Cf4065A560BcCf0D33c8217cB",
  VaultErrorController: "0x6918126417e99413ad58c2Deb17Bed3f61a24D23",
  VaultUtils: "0x4CE105fF11C08d8A855cAa3E9C7247F602A1138a",
  AGX: "0x5bd524B133a3C429c821E3f5e92eB2ed53Fe1286",
  //YieldTracker=YieldEmission
  YieldTracker: "0xffeC3cFB1F199eD5844D8930eF187346feC7E26a",
  TimeDistributor: "0x5ABb55813cf4EF88cCd0DD04e0036cD649C00949",

  Multicall: "0xcA11bde05977b3631167028862bE2a173976CA11",
  v3StakerAddress: "0x7aC4AEbe6bb9c1E691989C109B8d13082544E50b",
  nonfungibleTokenPositionManagerAddress: "0x27a6F7719735Bcb7A5550Adf745C1623533eD1eA",
  dexreader: "0xd40C09218900A01E59aec31d73C13D9578B564cd",
  IncentiveKey: {
    "rewardToken": "0x5bd524B133a3C429c821E3f5e92eB2ed53Fe1286",
    "pool": "0xE957A08D6cb41A874270C55B4f3124921575223E",
    "startTime": 1719816537,
    "endTime": 1735368537,
    "refundee": "0x330BD48140Cf1796e3795A6b374a673D7a4461d0"
  },
  UniswapAGXEthPool: "0x13208D4923b9358cF4ccC450bB79ad98bA108D63",
  v3Factory: "0xE8d9Dcf7e670550e2FBC4161C1E9A454Dfe40b47",
  WethSwap: "0x13208D4923b9358cF4ccC450bB79ad98bA108D63",
  EmissionSchedule: "0x89b70D65c79BFcb38c644eb026A54a73CDa2a359",
  ALP_WETH_Emission: "0xDb82D6267ff59638587426193D9F34B348853e4c",
  Stake_WETH_Emission: "0x5d304d9480461646bb76351e8f1456aA51361D37",
};
const currentContract = process.env.REACT_APP_ENV === "development" ? SEPOLOIA_CONTRACRT : NOVA_CONTRACT;
const CONTRACTS = {
  [BSС_MAINNET]: {
    // bsc mainnet
    Treasury: "0xa44E7252a0C137748F523F112644042E5987FfC7",
    BUSD: "0xe9e7cea3dedca5984780bafc599bd69add087d56",
    GMT: "0x99e92123eB77Bc8f999316f622e5222498438784",
    Vault: "0xc73A8DcAc88498FD4b4B1b2AaA37b0a2614Ff67B",
    Router: "0xD46B23D042E976F8666F554E928e0Dc7478a8E1f",
    Reader: "0x087A618fD25c92B61254DBe37b09E5E8065FeaE7",
    AmmFactory: "0xBCfCcbde45cE874adCB698cC183deBcF17952812",
    AmmFactoryV2: "0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",
    OrderBook: "0x1111111111111111111111111111111111111111",
    OrderBookReader: "0x1111111111111111111111111111111111111111",
    GmxMigrator: "0xDEF2af818514c1Ca1A9bBe2a4D45E28f260063f9",
    USDG: "0x85E76cbf4893c1fbcB34dCF1239A91CE2A4CF5a7",
    NATIVE_TOKEN: "0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",
    XGMT: "0xe304ff0983922787Fd84BC9170CD21bF78B16B10",
    GMT_USDG_PAIR: "0xa41e57459f09a126F358E118b693789d088eA8A0",
    XGMT_USDG_PAIR: "0x0b622208fc0691C2486A3AE6B7C875b4A174b317",
    GMT_USDG_FARM: "0x3E8B08876c791dC880ADC8f965A02e53Bb9C0422",
    XGMT_USDG_FARM: "0x68D7ee2A16AB7c0Ee1D670BECd144166d2Ae0759",
    USDG_YIELD_TRACKER: "0x0EF0Cf825B8e9F89A43FfD392664131cFB4cfA89",
    XGMT_YIELD_TRACKER: "0x82A012A9b3003b18B6bCd6052cbbef7Fa4892e80",
    GMT_USDG_FARM_TRACKER_XGMT: "0x08FAb024BEfcb6068847726b2eccEAd18b6c23Cd",
    GMT_USDG_FARM_TRACKER_NATIVE: "0xd8E26637B34B2487Cad1f91808878a391134C5c2",
    XGMT_USDG_FARM_TRACKER_XGMT: "0x026A02F7F26C1AFccb9Cba7C4df3Dc810F4e92e8",
    XGMT_USDG_FARM_TRACKER_NATIVE: "0x22458CEbD14a9679b2880147d08CA1ce5aa40E84",
    AUTO: "0xa184088a740c695E156F91f5cC086a06bb78b827",
    AUTO_USDG_PAIR: "0x0523FD5C53ea5419B4DAF656BC1b157dDFE3ce50",
    AUTO_USDG_FARM: "0xE6958298328D02051769282628a3b4178D0F3A47",
    AUTO_USDG_FARM_TRACKER_XGMT: "0x093b8be41c1A30704De84a9521632f9a139c08bd",
    AUTO_USDG_FARM_TRACKER_NATIVE: "0x23ed48E5dce3acC7704d0ce275B7b9a0e346b63A",
    GMT_GMX_IOU: "0x47052469970C2484729875CC9E2dd2683fcE71fb",
    XGMT_GMX_IOU: "0xeB3733DFe3b68C9d26898De2493A3Bb59FDb4A7B",
    GMT_USDG_GMX_IOU: "0x481312655F81b5e249780A6a49735335BF6Ca7f4",
    XGMT_USDG_GMX_IOU: "0x8095F1A92526C304623483018aA28cC6E62EB1e1",
  },
  [BSС_TESTNET]: {
    // bsc testnet
    Vault: "0x1B183979a5cd95FAF392c8002dbF0D5A1C687D9a",
    Router: "0x10800f683aa564534497a5b67F45bE3556a955AB",
    Reader: "0x98D4742F1B6a821bae672Cd8721283b91996E454",
    AmmFactory: "0x6725f303b657a9451d8ba641348b6761a6cc7a17",
    AmmFactoryV2: "0x1111111111111111111111111111111111111111",
    OrderBook: "0x9afD7B4f0b58d65F6b2978D3581383a06b2ac4e9",
    OrderBookReader: "0x0713562970D1A802Fa3FeB1D15F9809943982Ea9",
    GmxMigrator: "0xDEF2af818514c1Ca1A9bBe2a4D45E28f260063f9",
    USDG: "0x2D549bdBf810523fe9cd660cC35fE05f0FcAa028",
    GMT: "0xedba0360a44f885ed390fad01aa34d00d2532817",
    NATIVE_TOKEN: "0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2",
    XGMT: "0x28cba798eca1a3128ffd1b734afb93870f22e613",
    GMT_USDG_PAIR: "0xe0b0a315746f51932de033ab27223d85114c6b85",
    XGMT_USDG_PAIR: "0x0108de1eea192ce8448080c3d90a1560cf643fa0",
    GMT_USDG_FARM: "0xbe3cB06CE03cA692b77902040479572Ba8D01b0B",
    XGMT_USDG_FARM: "0x138E92195D4B99CE3618092D3F9FA830d9A69B4b",
    USDG_YIELD_TRACKER: "0x62B49Bc3bF252a5DB26D88ccc7E61119e3179B4f",
    XGMT_YIELD_TRACKER: "0x5F235A582e0993eE9466FeEb8F7B4682993a57d0",
    GMT_USDG_FARM_TRACKER_XGMT: "0x4f8EE3aE1152422cbCaFACd4e3041ba2D859913C",
    GMT_USDG_FARM_TRACKER_NATIVE: "0xd691B26E544Fe370f39A776964c991363aF72e56",
    XGMT_USDG_FARM_TRACKER_XGMT: "0xfd5617CFB082Ba9bcD62d654603972AE312bC695",
    XGMT_USDG_FARM_TRACKER_NATIVE: "0x0354387DD85b7D8aaD1611B3D167A384d6AE0c28",
    GMT_GMX_IOU: "0x47052469970C2484729875CC9E2dd2683fcE71fb",
    XGMT_GMX_IOU: "0xeB3733DFe3b68C9d26898De2493A3Bb59FDb4A7B",
    GMT_USDG_GMX_IOU: "0x481312655F81b5e249780A6a49735335BF6Ca7f4",
    XGMT_USDG_GMX_IOU: "0x8095F1A92526C304623483018aA28cC6E62EB1e1",
  },
  [ARBITRUM_GOERLI]: {
    // arbitrum testnet
    Vault: AddressZero,
    Router: AddressZero,
    VaultReader: AddressZero,
    Reader: AddressZero,
    GlpManager: AddressZero,
    RewardRouter: AddressZero,
    RewardReader: AddressZero,
    GlpRewardRouter: AddressZero,
    NATIVE_TOKEN: "0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",
    GLP: AddressZero,
    GMX: AddressZero,
    ES_GMX: AddressZero,
    BN_GMX: AddressZero,
    USDG: AddressZero,
    ES_GMX_IOU: AddressZero,

    StakedGmxTracker: AddressZero,
    BonusGmxTracker: AddressZero,
    FeeGmxTracker: AddressZero,
    StakedGlpTracker: AddressZero,
    FeeGlpTracker: AddressZero,

    StakedGmxDistributor: AddressZero,
    StakedGlpDistributor: AddressZero,

    GmxVester: AddressZero,
    GlpVester: AddressZero,
    AffiliateVester: AddressZero,

    OrderBook: AddressZero,
    OrderExecutor: AddressZero,
    OrderBookReader: AddressZero,

    PositionRouter: AddressZero,
    PositionManager: AddressZero,

    TraderJoeGmxAvaxPool: AddressZero,
    ReferralStorage: "0x995E905E471D53B7c5d0dbf6406860Cb3C029e95",
    ReferralReader: AddressZero,

    // Synthetics
    DataStore: "0xbA2314b0f71ebC705aeEBeA672cc3bcEc510D03b",
    EventEmitter: "0x2fbE45fCb58B7106CF0a3Be9225D5Ed5A1004cc4",
    ExchangeRouter: "0xFE98518C9c8F1c5a216E999816c2dE3199f295D2",
    SubaccountRouter: "0x4Ae6ecDD55ee1066477Ee4B5Fc9f4D04C4CE66E9",
    DepositVault: "0x838a9bdf8736eD522A60F5f715e4F3FC2BC91A08",
    WithdrawalVault: "0xaAac001C2a2727Ff2d484C4Ad7d2079C7094e7Ef",
    OrderVault: "0x82aFd2590814a7Ce3d7ea6b63F80481F8b227bA9",
    SyntheticsReader: "0xab747a7bb64B74D78C6527C1F148808a19120475",
    SyntheticsRouter: "0xa960786Bc30F8587279df6116F9E0B15C5b034dE",
    Timelock: AddressZero,

    Multicall: "0x6d85594c9BD6b0833bC85AE62B360654A1e52D70",
  },
  [AVALANCHE]: SEPOLOIA_CONTRACRT,
  //TODO:暂时代替测试环境
  [ARBITRUM]: currentContract,
};

export function getContract(chainId: number, name: string): string {
  if (!CONTRACTS[chainId]) {
    console.log(`Unknown chainId ${chainId}`);
  }

  if (!CONTRACTS[chainId][name]) {
    console.log(CONTRACTS[chainId], `Unknown contract "${name}" for chainId ${chainId}`);
  }

  return CONTRACTS[chainId][name];
}
